<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="MauiSummer25.Views.RegistrationPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:view="clr-namespace:MauiSummer25.Views"
    xmlns:viewmodels="clr-namespace:MauiSummer25.ViewModels"
    Title="RegistrationPage"
    x:DataType="viewmodels:RegistrationPageViewModel"
    FlowDirection="RightToLeft">

    <!--ContentPage.Background>
        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
            <GradientStop Offset="0.3" Color="LightCyan" />
            <GradientStop Offset="0.5" Color="#3a7bd5" />
            <GradientStop Offset="1.0" Color="Purple" />
        </LinearGradientBrush>
    </ContentPage.Background-->

    <ScrollView>
        <VerticalStackLayout
            Padding="30"
            Spacing="25"
            VerticalOptions="Center">

            <HorizontalStackLayout HorizontalOptions="Center" Spacing="16">
                <!--  כותרת  -->
                <Label
                    FontAttributes="Bold"
                    FontSize="32"
                    Text="הרשמה"
                    TextColor="DarkTurquoise"
                    VerticalOptions="Center" />
                <Image
                    Aspect="AspectFill"
                    HeightRequest="40"
                    Source="dog1.jpeg"
                    VerticalOptions="Center"
                    WidthRequest="40" />
                <!--  C:\MAUI\Projects\MauiSummer25-master\MauiSummer25-master\MauiSummer25\Resources\Images\dog1.jpeg  -->
            </HorizontalStackLayout>
            <!--  שם  -->
            <Border
                Padding="10"
                Stroke="#ccc"
                StrokeShape="RoundRectangle 8"
                StrokeThickness="1">
                <Entry
                    FontSize="18"
                    Placeholder="שם פרטי"
                    Text="{Binding Name}"
                    TextColor="Black" />
            </Border>

            <!--  שם משתמש  -->
            <Border
                Padding="10"
                Stroke="#ccc"
                StrokeShape="RoundRectangle 8"
                StrokeThickness="1">
                <Entry
                    FontSize="18"
                    Placeholder="שם משתמש"
                    Text="{Binding UserNameText}"
                    TextColor="Black" />
            </Border>

            <!--  סיסמה עם כפתור צפייה  -->
            <Border
                Stroke="#ccc"
                StrokeShape="RoundRectangle 8"
                StrokeThickness="1">
                <Grid
                    Padding="10"
                    ColumnDefinitions="*,Auto"
                    VerticalOptions="Center">
                    <Entry
                        BackgroundColor="Transparent"
                        FontSize="18"
                        IsPassword="{Binding IsPassword}"
                        Placeholder="סיסמה"
                        Text="{Binding Password}"
                        TextColor="Black"
                        VerticalOptions="Center" />
                    <Button
                        Margin="5,0,0,0"
                        Padding="0"
                        BackgroundColor="Transparent"
                        Command="{Binding ShowPasswordCommand}"
                        FontFamily="MaterialSymbols"
                        FontSize="24"
                        HorizontalOptions="End"
                        Text="{Binding ShowPasswordIcon}"
                        TextColor="Black"
                        VerticalOptions="Center" />
                </Grid>
            </Border>
            <!--  כתובת מייל  -->
            <Border
                Padding="10"
                Stroke="#ccc"
                StrokeShape="RoundRectangle 8"
                StrokeThickness="1">
                <Entry
                    FontSize="18"
                    Placeholder="כתובת מייל"
                    Text="{Binding Email}"
                    TextColor="Black" />
            </Border>

            <!--  מספר טלפון  -->
            <Border
                Padding="10"
                Stroke="#ccc"
                StrokeShape="RoundRectangle 8"
                StrokeThickness="1">
                <Entry
                    FontSize="18"
                    Placeholder="מספר טלפון"
                    Text="{Binding PhoneNum}"
                    TextColor="Black" />
            </Border>

            <Border
                Padding="10"
                Stroke="#ccc"
                StrokeShape="RoundRectangle 8"
                StrokeThickness="1">

                <FlexLayout
                    AlignItems="Center"
                    Direction="Row"
                    JustifyContent="SpaceBetween">
                    <HorizontalStackLayout Spacing="10">
                        <Label
                            FontAttributes="Bold"
                            FontSize="32"
                            HorizontalOptions="Center"
                            Text="תאריך לידה"
                            TextColor="Black"
                            VerticalOptions="Center" />
                        <DatePicker
                            x:Name="myDatePicker"
                            Date="{Binding SelectedDate, Mode=TwoWay}"
                            FontSize="32"
                            TextColor="Black" />
                    </HorizontalStackLayout>
                    <HorizontalStackLayout>
                        <Label
                            Padding="30"
                            FontAttributes="Bold"
                            FontSize="32"
                            HorizontalOptions="Center"
                            Text="{Binding AgeStr, Mode=TwoWay}"
                            TextColor="Black" />


                        <Label
                            FontSize="32"
                            HorizontalOptions="Center"
                            Text="{Binding SelectedDate, Mode=OneWay, StringFormat='Selected: {0:dd/MM/yyyy}     '}"
                            VerticalOptions="Center" />
                    </HorizontalStackLayout>
                </FlexLayout>
            </Border>
            <Label
                FontAttributes="Bold"
                FontSize="32"
                HorizontalOptions="Center"
                IsVisible="{Binding MessageIsVisible}"
                Text="{Binding UserMessage}"
                TextColor="{Binding MessageColor}" />
            <!--  כפתור כניסה  -->
            <Button
                Command="{Binding RegisterCommand}"
                Style="{StaticResource MyButton}"
                Text="הירשם"
                TextColor="White" />
            <!--  שגיאה >
             FontSize="18"
 HeightRequest="50"
            <Label
                FontSize="45"
                HorizontalTextAlignment="Center"
                IsVisible="{Binding MessageIsVisible}"
                Text="{Binding UserMessage2}"
                TextColor="{Binding MessageColor}" /-->

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>